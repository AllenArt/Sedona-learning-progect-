const form=document.querySelector(".housing-search-form"),interactionButtom=document.querySelector(".housing-search-button"),submitButton=form.querySelector(".search-form-button"),arrivalDate=form.querySelector(".search-form-arrival-date"),departureDate=form.querySelector(".search-form-departure-date"),adultQuantity=form.querySelector(".search-form-adults-count"),childrenQuantity=form.querySelector(".search-form-childrens-count");form.classList.add("housing-search-form-closed");let isStorageSupport=!0,storageAdultCount="",storageCgildrenCount="";try{storageAdultCount=localStorage.getItem("adultCount"),storageCgildrenCount=localStorage.getItem("childrenCount")}catch(t){isStorageSupport=!1}interactionButtom.addEventListener("click",function(){form.classList.toggle("housing-search-form-opening"),form.classList.remove("housing-search-form-closed"),form.classList.contains("housing-search-form-opening")||setTimeout(function(){form.classList.add("housing-search-form-closed")},3e3)}),window.addEventListener("keydown",function(t){"Escape"===t.key&&(form.classList.toggle("housing-search-form-opening"),form.classList.remove("housing-search-form-closed"),form.classList.contains("housing-search-form-opening")||setTimeout(function(){form.classList.add("housing-search-form-closed")},3e3))}),(storageAdultCount||storageCgildrenCount)&&(adultQuantity.value=storageAdultCount,childrenQuantity.value=storageCgildrenCount),form.addEventListener("submit",function(t){arrivalDate.value&&departureDate.value&&adultQuantity.value?isStorageSupport&&(adultQuantity.value&&localStorage.setItem("adultCount",adultQuantity.value),childrenQuantity.value&&localStorage.setItem("childrenCount",childrenQuantity.value)):t.preventDefault()});